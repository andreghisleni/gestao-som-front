/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "@/lib/api";
import type { AssignTicketMutationRequest, AssignTicketMutationResponse, AssignTicketPathParams, AssignTicket400, AssignTicket403, AssignTicket404 } from "../types/AssignTicket.ts";
import type { RequestConfig, ResponseErrorConfig } from "@/lib/api";
import type { UseMutationOptions, QueryClient } from "@tanstack/react-query";
import { useMutation } from "@tanstack/react-query";

export const assignTicketMutationKey = () => [{ url: '/event/:eventId/tickets/:ticketId/assign' }] as const

export type AssignTicketMutationKey = ReturnType<typeof assignTicketMutationKey>

/**
 * @summary Assign a ticket to a member (and optional allocation)
 * {@link /event/:eventId/tickets/:ticketId/assign}
 */
export async function assignTicket(eventId: AssignTicketPathParams["eventId"], ticketId: AssignTicketPathParams["ticketId"], data: AssignTicketMutationRequest, config: Partial<RequestConfig<AssignTicketMutationRequest>> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const requestData = data  
  
  const res = await request<AssignTicketMutationResponse, ResponseErrorConfig<AssignTicket400 | AssignTicket403 | AssignTicket404>, AssignTicketMutationRequest>({ method : "POST", url : `/event/${eventId}/tickets/${ticketId}/assign`, data : requestData, ... requestConfig })  
  return res.data
}

/**
 * @summary Assign a ticket to a member (and optional allocation)
 * {@link /event/:eventId/tickets/:ticketId/assign}
 */
export function useAssignTicket<TContext>(options: 
{
  mutation?: UseMutationOptions<AssignTicketMutationResponse, ResponseErrorConfig<AssignTicket400 | AssignTicket403 | AssignTicket404>, {eventId: AssignTicketPathParams["eventId"], ticketId: AssignTicketPathParams["ticketId"], data: AssignTicketMutationRequest}, TContext> & { client?: QueryClient },
  client?: Partial<RequestConfig<AssignTicketMutationRequest>> & { client?: typeof fetch },
}
 = {}) {
  const { mutation = {}, client: config = {} } = options ?? {}
  const { client: queryClient, ...mutationOptions } = mutation;
  const mutationKey = mutationOptions.mutationKey ?? assignTicketMutationKey()

  return useMutation<AssignTicketMutationResponse, ResponseErrorConfig<AssignTicket400 | AssignTicket403 | AssignTicket404>, {eventId: AssignTicketPathParams["eventId"], ticketId: AssignTicketPathParams["ticketId"], data: AssignTicketMutationRequest}, TContext>({
    mutationFn: async({ eventId, ticketId, data }) => {
      return assignTicket(eventId, ticketId, data, config)
    },
    mutationKey,
    ...mutationOptions
  }, queryClient)
}